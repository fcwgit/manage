webpackJsonp([2],{"3YYL":function(e,t){var a={uploadUrl:"http://10.12.17.230:8080/manage/upload.action"};e.exports=a},"43OD":function(e,t){},"5i/K":function(e,t){},"6FG8":function(e,t){},"8QNP":function(e,t){},"9LMc":function(e,t){},APhl:function(e,t){},"Bp+S":function(e,t){},"C+Pp":function(e,t){},DuGp:function(e,t){},ECBB:function(e,t){},HWDG:function(e,t){},J0UN:function(e,t){},JFY9:function(e,t){},KKB5:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),s={name:"App",mounted:function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t<950&&(t=950),document.getElementById("app").style.width=e+"px",document.getElementById("app").style.height=t+"px"}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")(s,l,!1,function(e){a("PqLK")},null,null).exports,n=a("/ocq"),i=a("mvHQ"),m=a.n(i),u=(a("j1ja"),a("NYxO"));r.default.use(u.a);var c={setRole:function(e,t){sessionStorage.setItem("role",t),e.role=t},setIsLogin:function(e,t){sessionStorage.setItem("isLogin",t),e.isLogin=t},initAlias:function(e,t){sessionStorage.setItem("alias",t),e.alias=t},initName:function(e,t){sessionStorage.setItem("name",t),e.name=t},initOptions:function(e,t){e.options=t,sessionStorage.setItem("options",m()(t))},initManagerType:function(e,t){sessionStorage.setItem("managerType",m()(t)),e.managerType=t},initPageSize:function(e,t){sessionStorage.setItem("pageSize",t),e.pageSize=t},initBranchMasterType:function(e,t){sessionStorage.setItem("branchMasterType",m()(t)),e.branchMasterType=t},initBranchSlaverType:function(e,t){sessionStorage.setItem("branchSlaverType",m()(t)),e.branchSlaverType=t}},d=new u.a.Store({state:{role:!1,isLogin:!1,alias:"",name:"",pageSize:"",options:[],managerType:[],branchMasterType:[],branchSlaverType:[]},mutations:c}),p={data:function(){return{managerAlias:d.state.alias,managerName:d.state.name,role:!1}},methods:{handleCommand:function(e){"logout"==e&&(this.$message("退出登录 "),this.$router.push("/")),"modifyPassword"==e&&this.$router.push("/container/initPassword")}},mounted:function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t<950&&(t=950),document.getElementById("home").style.width=e+"px",document.getElementById("home").style.height=t+"px",d.commit("initAlias",sessionStorage.getItem("alias")),this.managerAlias=sessionStorage.getItem("alias"),d.commit("initName",sessionStorage.getItem("name")),d.commit("initOptions",JSON.parse(sessionStorage.getItem("options"))),d.commit("initManagerType",JSON.parse(sessionStorage.getItem("managerType"))),d.commit("initPageSize",sessionStorage.getItem("pageSize")),d.commit("initBranchMasterType",JSON.parse(sessionStorage.getItem("branchMasterType"))),d.commit("initBranchSlaverType",JSON.parse(sessionStorage.getItem("branchSlaverType"))),d.commit("setIsLogin",sessionStorage.getItem("isLogin")),"false"==sessionStorage.getItem("role")?this.role=!1:this.role=!0}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{border:"1px solid #eee"},attrs:{id:"home"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","default-active":e.$route.path}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document"}),e._v("随机抽查事项清单")]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/container/document"}},[e._v("随机抽查事项清单")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-time"}),e._v("检查项目管理")]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/container/createProject"}},[e._v("新建检查项目")]),e._v(" "),a("el-menu-item",{attrs:{index:"/container/queryProject"}},[e._v("管理检查项目")])],1)],2),e._v(" "),e.role?a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("检查机构库管理")]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/container/queryBranch"}},[e._v("管理检查机构库")]),e._v(" "),a("el-menu-item",{attrs:{index:"/container/addBranch"}},[e._v("新增检查机构")])],1)],2):e._e(),e._v(" "),e.role?a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("检查人员管理")]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/container/queryUser"}},[e._v("管理检查人员库")])],1)],2):e._e(),e._v(" "),e.role?a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-service"}),e._v("系统用户管理")]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/container/queryManager"}},[e._v("管理系统用户")])],1)],2):e._e()],1)],1),e._v(" "),a("el-container",[a("el-header",{staticClass:"header-image"},[a("el-dropdown",{on:{command:e.handleCommand}},[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"modifyPassword"}},[e._v("修改密码")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"logout"}},[e._v("注销")])],1)],1),e._v(" "),a("span",[e._v(e._s(e.managerAlias))])],1),e._v(" "),a("el-main",[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view")],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(p,g,!1,function(e){a("Bp+S")},null,null).exports,f={data:function(){return{fullscreenLoading:!1,LoginForm:{username:"",password:""},rule:{username:[{required:!0,min:3,max:10,message:"用户名是必须的，长度为3-10位",trigger:"blur"}],password:[{required:!0,message:"密码是必须的！",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.fullscreenLoading=!0,this.$refs.LoginForm.validate(function(t){if(t){var a=e.LoginForm.username,r=e.LoginForm.password;if(""==a||""==r)return void e.$message({message:"账号或密码为空！",type:"error"});e.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!1;var t=!1;e.$axios.post("/login.action",{name:e.LoginForm.username,password:e.LoginForm.password}).then(function(a){if("999999"==a.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");var r=a.data.head.errorCode;if("100004"!=r)if("000000"==r){0==a.data.body.type?d.commit("setRole",!0):d.commit("setRole",!1),d.commit("initAlias",a.data.body.alias),d.commit("initName",a.data.body.name),d.commit("initOptions",a.data.body.branch_rate),d.commit("initManagerType",a.data.body.manager_type),d.commit("initPageSize",a.data.body.pageSize),d.commit("initBranchMasterType",a.data.body.branch_master_type),d.commit("initBranchSlaverType",a.data.body.branch_slaver_type),d.commit("setIsLogin",!0),e.$message({message:"恭喜你，登录成功",type:"success"}),t=!0,e.$router.push("/container")}else{var s=a.data.head.errorMessage;e.$message({message:s,type:"error"})}else e.$router.push("resetPassword")}).catch(function(a){console.log("error="+a),e.$message({message:"登录失败",type:"error"}),t=!1,e.$router.push("/")}),t?e.$router.push("/container"):e.$router.push("/")},2e3)}else console.log("submit err")})},reset:function(){this.$refs.LoginForm.resetFields()},toregin:function(){this.$router.push("/regin")}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-form",{ref:"LoginForm",staticClass:"login-form",attrs:{model:e.LoginForm,rules:e.rule,"label-width":"0"}},[a("h3",[e._v("用户登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"username",label:"用户名：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.LoginForm.username,callback:function(t){e.$set(e.LoginForm,"username",t)},expression:"LoginForm.username"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"password",placeholder:"密 码"},model:{value:e.LoginForm.password,callback:function(t){e.$set(e.LoginForm,"password",t)},expression:"LoginForm.password"}})],1)],1),e._v(" "),a("el-form-item",[a("el-col",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"submitBtn",attrs:{type:"danger",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" 登录 ")]),e._v(" "),a("el-button",{staticClass:"resetBtn",attrs:{type:"primary",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.reset(t)}}},[e._v(" 重置 ")])],1),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("忘记密码，请联系超级管理员"),a("span",{staticClass:"to",on:{click:e.toregin}},[e._v("超级")])])],1)],1)],1)},staticRenderFns:[]};var v=a("VU/8")(f,b,!1,function(e){a("fyir")},"data-v-944770ec",null).exports,y=a("mtWM"),k=a.n(y),w={data:function(){return{fullscreenLoading:!1,LoginForm:{username:"",password:""},rule:{username:[{required:!0,min:3,max:10,message:"用户名是必须的，长度为3-10位",trigger:"blur"}],password:[{required:!0,message:"密码是必须的！",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.fullscreenLoading=!0,this.$refs.LoginForm.validate(function(t){if(t){var a=e.LoginForm.username,r=e.LoginForm.password;if(""==a||""==r)return void e.$message({message:"账号或密码为空！",type:"error"});e.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!1;var t=!1;k.a.post("/login.action",{name:e.LoginForm.username,password:e.LoginForm.password}).then(function(a){if("000000"==a.data.head.errorCode)d.commit("initOptions",a.data.body.branch_rate),d.commit("initWorker",a.data.body.worker),e.$message({message:"恭喜你，登录成功",type:"success"}),t=!0,e.$router.push("/container");else{var r=a.data.head.errorMessage;e.$message({message:r,type:"error"})}}).catch(function(a){console.log("error="+a),e.$message({message:"登录失败",type:"error"}),t=!1,e.$router.push("/")}),t?e.$router.push("/container"):e.$router.push("/")},2e3)}else console.log("submit err")})},reset:function(){this.$refs.LoginForm.resetFields()},toregin:function(){this.$router.push("/regin")}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-form",{ref:"LoginForm",staticClass:"login-form",attrs:{model:e.LoginForm,rules:e.rule,"label-width":"0"}},[a("h3",[e._v("用户登录系统")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text",placeholder:"username"},model:{value:e.LoginForm.username,callback:function(t){e.$set(e.LoginForm,"username",t)},expression:"LoginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"password"},model:{value:e.LoginForm.password,callback:function(t){e.$set(e.LoginForm,"password",t)},expression:"LoginForm.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"submitBtn",attrs:{type:"danger",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" 登录 ")]),e._v(" "),a("el-button",{staticClass:"resetBtn",attrs:{type:"primary",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.reset(t)}}},[e._v(" 重置 ")]),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("忘记密码，请联系超级管理员"),a("span",{staticClass:"to",on:{click:e.toregin}},[e._v("超级")])])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(w,F,!1,function(e){a("HWDG")},"data-v-201e88aa",null).exports;var $={name:"Home",data:function(){return{role:!1}},mounted:function(){console.log("false"==sessionStorage.getItem("role")),"false"==sessionStorage.getItem("role")?this.role=!1:this.role=!0}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("ul",{staticStyle:{"list-style-type":"decimal","text-align":"left","margin-left":"150px"}},[a("li",[a("router-link",{attrs:{to:"/container/document"}},[e._v("随机抽查事项清单")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/container/createProject"}},[e._v("新建检查项目")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/container/queryProject"}},[e._v("管理检查项目")])],1),e._v(" "),e.role?a("li",[a("router-link",{attrs:{to:"/container/queryBranch"}},[e._v("管理检查机构库")])],1):e._e(),e._v(" "),e.role?a("li",[a("router-link",{attrs:{to:"/container/addBranch"}},[e._v("新增检查机构")])],1):e._e(),e._v(" "),e.role?a("li",[a("router-link",{attrs:{to:"/container/queryUser"}},[e._v("管理检查人员库")])],1):e._e(),e._v(" "),e.role?a("li",[a("router-link",{attrs:{to:"/container/queryManager"}},[e._v("管理系统用户")])],1):e._e()])])])},staticRenderFns:[]};var T=a("VU/8")($,_,!1,function(e){a("J0UN")},"data-v-53180b87",null).exports,x={name:"createProject",data:function(){return{fullscreenLoading:!1,ruleForm:{name:"",date:"",des:""},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:3,max:100,message:"长度在 3 到 100 个字符",trigger:"blur"}],des:[{required:!0,message:"请填写项目简介",trigger:"blur"},{min:3,max:1e3,message:"长度在 3 到 1000 个字符",trigger:"blur"}],date:[{required:!0,message:"请设置检查月份",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.fullscreenLoading=!0,t.$refs.ruleForm.validate(function(e){e?(t.fullscreenLoading=!0,setTimeout(function(){t.fullscreenLoading=!0,t.$axios.post("/addProject.action",{name:t.ruleForm.name,des:t.ruleForm.des,date:t.ruleForm.date}).then(function(e){if("999999"==e.data)return t.$message({type:"warning",message:"请重新登录!"}),void t.$router.push("/");if("000000"==e.data.head.errorCode){t.$message({message:"恭喜你，添加项目成功",type:"success"}),t.fullscreenLoading=!1;var a={name:t.ruleForm.name,des:t.ruleForm.des,date:t.ruleForm.date,projectId:e.data.body.id,bankData:e.data.body.bankData,worker:e.data.body.worker};sessionStorage.setItem("worker",m()(a)),t.$router.push("/container/conformProject")}else{var r=e.data.head.errorMessage;t.$message({message:r,type:"error"})}}).catch(function(e){t.$message({message:"添加项目失败",type:"error"}),t.fullscreenLoading=!1})},2e3)):(console.log("submit err"),t.fullscreenLoading=!1,t.$message({message:"请补充信息",type:"error"}))})})},resetForm:function(e){this.$refs[e].resetFields()}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"title"},[e._v("创建项目")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"检查项目名称",prop:"name"}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{type:"textarea",rows:"2",maxlength:"100"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"检查项目简介",prop:"des"}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{type:"textarea",rows:"16",maxlength:"1000"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"检查月份",required:""}},[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{prop:"date"}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择月","value-format":"yyyy-MM"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")(x,D,!1,function(e){a("rMBT")},"data-v-0e8a648a",null).exports,B=a("3YYL"),C=a.n(B),S={name:"conformProject",data:function(){return{uploadUrl:"",fullscreenLoading:!1,options:[],worker:[],projectName:"",projectDesc:"",projectDate:"",projectId:"",projectTarget:"",projectLeader:"",projectLeaderBak:"",projectMaster:"",projectMasterBak:"",projectSlaver:"",bankSelected:[],leaderSelected:[],leaderBakSelected:[],masterSelected:[],masterBakSelected:[],slaverSelected:[],filterMethod:function(e,t){return t.pinyin.indexOf(e)>-1},bankTableData:[],bankTableDataLength:0,leaderTableData:[],leaderTableDataLength:0,leaderBakTableData:[],leaderBakTableDataLength:0,masterTableData:[],masterTableDataLength:0,masterBakTableData:[],masterBakTableDataLength:0,slaverTableData:[],slaverTableDataLength:0,value:"",fileList:[],bankData:[],defaultProps:{children:"children",label:"label"},dialogTableVisible:!1,dialogFormVisible:!1,formLabelWidth:"120px",bankTargetCount:0,leaderTargetCount:0,leaderBakTargetCount:0,masterTargetCount:0,masterBakTargetCount:0,slaverTargetCount:0,fileData:{}}},methods:{showTransfer1:function(){document.getElementById("transfer1").style.display="",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer2:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer3:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer4:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer5:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="",document.getElementById("transfer6").style.display="none"},showTransfer6:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display=""},bankHandleChange:function(){this.bankTableData=this.$refs.tree.getCheckedNodes(!0),this.bankTableDataLength=this.bankTableData.length,this.showTransfer1()},showRender:function(){},handleClick:function(e){},checkoutBank:function(){var e=this;if(0!=this.bankTableData.length)if(0!=this.bankTargetCount)if(this.bankTargetCount>this.bankTableData.length)this.$message({message:"请重新设置检查对象随机数量！",type:"warning"});else{for(var t=[],a=0;a<this.bankTableData.length;a++){var r=this.bankTableData[a];if(void 0==r.right)return this.$message({message:"请设置机构权重！",type:"warning"}),void(t=[]);for(var s=0;s<r.right;s++)t.push(r)}for(var l=[];l.length<this.bankTargetCount;){for(var o=this.getBranch(t),n=!0,i=0;i<l.length;i++){var m=l[i];if(o.num==m.num){n=!1;break}}n&&l.push(o)}for(var u="",c="",d=0;d<this.bankTableData.length;d++){u+="["+this.bankTableData[d].label+"]"}for(var p=0;p<l.length;p++){var g=l[p];c+="["+g.label+"]"}var h="从"+u+"这"+this.bankTableData.length+"个备选机构随机选择"+c+"这"+this.bankTargetCount+"个检查对象";this.$confirm("从"+u+"这"+this.bankTableData.length+"个备选机构随机选择"+c+"这"+this.bankTargetCount+"个检查对象, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectTarget=c,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addTarget.action",{target:l,key:e.projectId,contents:h}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置检查对象成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置检查对象失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选择检查对象!"})})}else this.$message({message:"请设置检查对象随机数量！",type:"warning"});else this.$message({message:"请选择机构！",type:"warning"})},getBranch:function(e){return e[parseInt(Math.random()*e.length)]},leaderHandleChange:function(e,t,a){this.leaderTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.leaderTableData.push(l);break}}this.leaderTableDataLength=this.leaderTableData.length},checkoutLeader:function(){var e=this;if(0!=this.leaderTableData.length)if(0!=this.leaderTableDataLength)if(this.leaderTableDataLength>this.leaderTableData.length)this.$message({message:"请重新设置组长随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.leaderTableData.length;s++){this.leaderTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.leaderTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.leaderTableData[i];break}for(var m="",u="",c=0;c<this.leaderTableData.length;c++){m+="["+this.leaderTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.leaderTableData.length+"个备选人员随机选择"+u+"这"+this.leaderTargetCount+"个人员";this.$confirm("从"+m+"这"+this.leaderTableData.length+"个备选人员随机选择"+u+"这"+this.leaderTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectLeader=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addLeader.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置组长成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置组长失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置组长!"})})}else this.$message({message:"请重新设置组长随机数量！",type:"warning"});else this.$message({message:"请选择组长！",type:"warning"})},leaderBakHandleChange:function(e,t,a){this.leaderBakTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.leaderBakTableData.push(l);break}}this.leaderBakTableDataLength=this.leaderBakTableData.length},checkoutLeaderBak:function(){var e=this;if(0!=this.leaderBakTableData.length)if(0!=this.leaderBakTableDataLength)if(this.leaderBakTableDataLength>this.leaderBakTableData.length)this.$message({message:"请重新设置副组长随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.leaderBakTableData.length;s++){this.leaderBakTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.leaderBakTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.leaderBakTableData[i];break}for(var m="",u="",c=0;c<this.leaderBakTableData.length;c++){m+="["+this.leaderBakTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.leaderBakTableData.length+"个备选人员随机选择"+u+"这"+this.leaderBakTargetCount+"个人员";this.$confirm("从"+m+"这"+this.leaderBakTableData.length+"个备选人员随机选择"+u+"这"+this.leaderBakTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectLeaderBak=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addLeaderBak.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置副组长成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置副组长失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置副组长!"})})}else this.$message({message:"请重新设置副组长随机数量！",type:"warning"});else this.$message({message:"请选择副组长！",type:"warning"})},masterHandleChange:function(e,t,a){this.masterTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.masterTableData.push(l);break}}this.masterTableDataLength=this.masterTableData.length},checkoutMaster:function(){var e=this;if(0!=this.masterTableData.length)if(0!=this.masterTableDataLength)if(this.masterTableDataLength>this.masterTableData.length)this.$message({message:"请重新设置主查随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.masterTableData.length;s++){this.masterTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.masterTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.masterTableData[i];break}for(var m="",u="",c=0;c<this.masterTableData.length;c++){m+="["+this.masterTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.masterTableData.length+"个备选人员随机选择"+u+"这"+this.masterTargetCount+"个人员";this.$confirm("从"+m+"这"+this.masterTableData.length+"个备选人员随机选择"+u+"这"+this.masterTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectMaster=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addMaster.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置主查成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置主查失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置主查!"})})}else this.$message({message:"请重新设置主查随机数量！",type:"warning"});else this.$message({message:"请选择主查！",type:"warning"})},masterBakHandleChange:function(e,t,a){this.masterBakTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.masterBakTableData.push(l);break}}this.masterBakTableDataLength=this.masterBakTableData.length},checkoutMasterBak:function(){var e=this;if(0!=this.masterBakTableData.length)if(0!=this.masterBakTableDataLength)if(this.masterBakTableDataLength>this.masterBakTableData.length)this.$message({message:"请重新设置副主查随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.masterBakTableData.length;s++){this.masterBakTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.masterBakTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.masterBakTableData[i];break}for(var m="",u="",c=0;c<this.masterBakTableData.length;c++){m+="["+this.masterBakTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.masterBakTableData.length+"个备选人员随机选择"+u+"这"+this.masterBakTargetCount+"个人员";this.$confirm("从"+m+"这"+this.masterBakTableData.length+"个备选人员随机选择"+u+"这"+this.masterBakTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectMasterBak=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addMasterBak.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置副主查成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置副主查失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置副主查!"})})}else this.$message({message:"请重新设置副主查随机数量！",type:"warning"});else this.$message({message:"请选择副主查！",type:"warning"})},slaverHandleChange:function(e,t,a){this.slaverTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(console.log(l),l.id==e[r]){this.slaverTableData.push(l);break}}this.slaverTableDataLength=this.slaverTableData.length},checkoutSlaver:function(){var e=this;if(0!=this.slaverTableData.length)if(0!=this.slaverTableDataLength)if(this.slaverTableDataLength>this.slaverTableData.length)this.$message({message:"请重新设置检查人员随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.slaverTableData.length;s++){this.slaverTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.slaverTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.slaverTableData[i];break}for(var m="",u="",c=0;c<this.slaverTableData.length;c++){m+="["+this.slaverTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.slaverTableData.length+"个备选人员随机选择"+u+"这"+this.slaverTargetCount+"个人员";this.$confirm("从"+m+"这"+this.slaverTableData.length+"个备选人员随机选择"+u+"这"+this.slaverTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectSlaver=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addSlaver.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置检查人员成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置检查人员失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置检查人员!"})})}else this.$message({message:"请重新设置检查人员随机数量！",type:"warning"});else this.$message({message:"请选择检查人员！",type:"warning"})},removeFile:function(e,t){var a=this;setTimeout(function(){a.fullscreenLoading=!0,a.$axios.post("/deleteFile.action",{key:e.response.body.id,name:e.response.body.name,projectId:a.projectId}).then(function(e){if("999999"==e.data)return a.$message({type:"warning",message:"请重新登录!"}),void a.$router.push("/");if("000000"==e.data.head.errorCode)a.$message({message:"删除文件成功",type:"success"}),a.fullscreenLoading=!1;else{var t=e.data.head.errorMessage;a.$message({message:t,type:"error"})}}).catch(function(e){a.$message({message:"删除文件失败",type:"error"}),a.fullscreenLoading=!1})},2e3)}},mounted:function(){this.uploadUrl=C.a.uploadUrl;var e=JSON.parse(sessionStorage.getItem("worker"));this.projectName=e.name,this.projectDesc=e.des,this.projectDate=e.date,this.showTransfer1(),this.bankData=e.bankData,this.projectId=e.projectId,this.worker=e.worker,this.options=JSON.parse(sessionStorage.getItem("options")),this.fileData={key:e.projectId}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticClass:"content",attrs:{span:12}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"项目信息"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查项目名称"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:!0},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查项目描述"}},[a("el-input",{attrs:{type:"textarea",rows:5,disabled:!0},model:{value:e.projectDesc,callback:function(t){e.projectDesc=t},expression:"projectDesc"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查年份"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.projectDate,callback:function(t){e.projectDate=t},expression:"projectDate"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查对象"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer1(t)}},model:{value:e.projectTarget,callback:function(t){e.projectTarget=t},expression:"projectTarget"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"组长"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer2(t)}},model:{value:e.projectLeader,callback:function(t){e.projectLeader=t},expression:"projectLeader"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"副组长"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer5(t)}},model:{value:e.projectLeaderBak,callback:function(t){e.projectLeaderBak=t},expression:"projectLeaderBak"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"主查"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer3(t)}},model:{value:e.projectMaster,callback:function(t){e.projectMaster=t},expression:"projectMaster"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"副主查"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer6(t)}},model:{value:e.projectMasterBak,callback:function(t){e.projectMasterBak=t},expression:"projectMasterBak"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查人员"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer4(t)}},model:{value:e.projectSlaver,callback:function(t){e.projectSlaver=t},expression:"projectSlaver"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"200px"}},[a("el-form-item",{attrs:{label:"《风险权重等级划分操作表》"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,name:"uploadFile","with-credentials":!0,data:e.fileData,"on-remove":e.removeFile,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{attrs:{id:"transfer1"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"检查对象"}},[a("div",{staticClass:"tree-class"},[a("el-tree",{ref:"tree",attrs:{data:e.bankData,"show-checkbox":"","node-key":"id","default-expand-all":"","highlight-current":"",props:e.defaultProps},on:{"check-change":e.bankHandleChange}})],1),e._v(" "),a("el-table",{attrs:{data:e.bankTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"masterDisplay",label:"类别",width:"80"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:"简称",width:"200"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"right",fixed:"right",label:"权重"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择",size:"small"},nativeOn:{click:function(a){e.handleClick(t.row)}},model:{value:t.row.right,callback:function(a){e.$set(t.row,"right",a)},expression:"scope.row.right"}},e._l(e.options,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))]}}])})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.bankTableDataLength,callback:function(t){e.bankTableDataLength=t},expression:"bankTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.bankTargetCount,callback:function(t){e.bankTargetCount=t},expression:"bankTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"success"},on:{click:e.checkoutBank}},[e._v("\n                  随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer2"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"组长"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入人名拼音",height:"150",size:"small",data:e.worker},on:{change:e.leaderHandleChange},model:{value:e.leaderSelected,callback:function(t){e.leaderSelected=t},expression:"leaderSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.leaderTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.leaderTableDataLength,callback:function(t){e.leaderTableDataLength=t},expression:"leaderTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.leaderTargetCount,callback:function(t){e.leaderTargetCount=t},expression:"leaderTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutLeader()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer3"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"主查"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入城市拼音",height:"150",size:"small",data:e.worker},on:{change:e.masterHandleChange},model:{value:e.masterSelected,callback:function(t){e.masterSelected=t},expression:"masterSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.masterTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.masterTableDataLength,callback:function(t){e.masterTableDataLength=t},expression:"masterTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.masterTargetCount,callback:function(t){e.masterTargetCount=t},expression:"masterTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutMaster()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer4"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"检查人员"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入城市拼音",height:"150",size:"small",data:e.worker},on:{change:e.slaverHandleChange},model:{value:e.slaverSelected,callback:function(t){e.slaverSelected=t},expression:"slaverSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.slaverTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.slaverTableDataLength,callback:function(t){e.slaverTableDataLength=t},expression:"slaverTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.slaverTargetCount,callback:function(t){e.slaverTargetCount=t},expression:"slaverTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutSlaver()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer5"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"副组长"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入人名拼音",height:"150",size:"small",data:e.worker},on:{change:e.leaderBakHandleChange},model:{value:e.leaderBakSelected,callback:function(t){e.leaderBakSelected=t},expression:"leaderBakSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.leaderBakTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.leaderBakTableDataLength,callback:function(t){e.leaderBakTableDataLength=t},expression:"leaderBakTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.leaderBakTargetCount,callback:function(t){e.leaderBakTargetCount=t},expression:"leaderBakTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutLeaderBak()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer6"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"副主查"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入城市拼音",height:"150",size:"small",data:e.worker},on:{change:e.masterBakHandleChange},model:{value:e.masterBakSelected,callback:function(t){e.masterBakSelected=t},expression:"masterBakSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.masterBakTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.masterBakTableDataLength,callback:function(t){e.masterBakTableDataLength=t},expression:"masterBakTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.masterBakTargetCount,callback:function(t){e.masterBakTargetCount=t},expression:"masterBakTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutMasterBak()}}},[e._v("随机")])],1)],1)],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",[a("el-button",{staticStyle:{width:"100%"},attrs:{id:"login",type:"primary"}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var M=a("VU/8")(S,j,!1,function(e){a("KKB5")},"data-v-7b4183ef",null).exports,P={methods:{handleCurrentChange:function(e){this.currentPage=e,this.submitForm()},detailClick:function(e){this.$router.push({name:"detailProject",params:e})},modifyClick:function(e){this.$router.push({name:"modifyProject",params:e})},submitForm:function(e){var t=this;this.$axios.post("/queryProject.action",{name:this.ruleForm.name,currentPage:this.currentPage}).then(function(e){if("999999"==e.data)return t.$message({type:"warning",message:"请重新登录!"}),void t.$router.push("/");if("000000"==e.data.head.errorCode)t.$message({message:"查询成功",type:"success"}),t.tableData=e.data.body.projectList,t.count=parseInt(e.data.body.count),t.pageSize=parseInt(d.state.pageSize);else{var a=e.data.head.errorMessage;t.$message({message:a,type:"error"})}}).catch(function(e){console.log("error="+e),t.$message({message:"查询失败",type:"error"})})},resetForm:function(e){this.$refs[e].resetFields()}},data:function(){return{ruleForm:{name:""},rules:{name:[{required:!0,trigger:"blur"}]},tableData:[],count:0,pageSize:0,currentPage:"1"}},mounted:function(){var e=this;setTimeout(function(){e.$axios.post("/getOptions.action").then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode){var a={name:"",des:"",date:"",projectId:"",bankData:t.data.body.bankData,worker:t.data.body.worker};sessionStorage.removeItem("worker"),sessionStorage.setItem("worker",m()(a))}else{var r=t.data.head.errorMessage;e.$message({message:r,type:"error"})}}).catch(function(t){e.$message({message:"获取参数失败",type:"error"})})},2e3)}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("查询项目信息")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"text",maxlength:"10"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"time",label:"添加日期",width:"200"}}),e._v(" "),a("el-table-column",{staticStyle:{"text-overflow":"ellipsis"},attrs:{prop:"name",label:"项目名称",width:"400"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{staticStyle:{"text-overflow":"ellipsis"},attrs:{prop:"date",label:"检查月份",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stateDisplay",label:"状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"添加者",width:"100"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.detailClick(t.row)}}},[e._v("查看")]),e._v(" "),t.row.right?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.modifyClick(t.row)}}},[e._v("编辑")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.count},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var E=a("VU/8")(P,I,!1,function(e){a("9LMc")},"data-v-2795f7dc",null).exports,q={name:"detailProject",data:function(){return{ruleForm:{projectId:"",name:"",desc:"",date:"",target:"",leader:"",leaderBak:"",master:"",masterBak:"",slaver:"",fileNames:""},addTarget:[],addLeader:[],addLeaderBak:[],addMaster:[],addMasterBak:[],addSlaver:[],fileLog:[]}},methods:{submitForm:function(e){this.$router.go(-1)},downloadFile:function(e){window.open(e.url,"_blank")},handleDownload:function(){var e=this;this.downloadLoading=!0,a.e(0).then(function(){var t=a("zWO4").export_json_object_to_excel,r=[],s=[];s.push(e.ruleForm);var l=s,o={th:["项目名称","项目简介","检查年份","检查对象","组长","副组长","主查","副主查","检查人员"],jsonData:e.formatJson(["name","desc","date","target","leader","leaderBak","master","masterBak","slaver"],l),sheetName:"项目详细信息"};r.push(o);var n=e.addTarget,i={th:["设置时间","内容","操作员"],jsonData:e.formatJson(["time","contents","author"],n),sheetName:"检查对象设置信息"};r.push(i);var m=e.addLeader,u={th:["设置时间","内容","操作员"],jsonData:e.formatJson(["time","contents","author"],m),sheetName:"组长设置信息"};r.push(u);var c=e.addLeaderBak,d={th:["设置时间","内容","操作员"],jsonData:e.formatJson(["time","contents","author"],c),sheetName:"副组长设置信息"};r.push(d);var p=e.addMaster,g={th:["设置时间","内容","操作员"],jsonData:e.formatJson(["time","contents","author"],p),sheetName:"主查设置信息"};r.push(g);var h=e.addMasterBak,f={th:["设置时间","内容","操作员"],jsonData:e.formatJson(["time","contents","author"],h),sheetName:"副主查设置信息"};r.push(f);var b=e.addSlaver,v={th:["设置时间","内容","操作员"],jsonData:e.formatJson(["time","contents","author"],b),sheetName:"检查人员设置信息"};r.push(v);var y=e.fileLog,k={th:["设置时间","内容","操作员"],jsonData:e.formatJson(["time","contents","author"],y),sheetName:"附件设置信息"};r.push(k),t(r,"branchRelation"),e.downloadLoading=!1}.bind(null,a)).catch(a.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}},mounted:function(){var e=this;this.ruleForm.projectId=this.$route.params.id,this.$axios.post("/queryProjectDetail.action",{key:this.ruleForm.projectId}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"查询成功",type:"success"}),e.ruleForm.name=t.data.body.project.name,e.ruleForm.desc=t.data.body.project.des,e.ruleForm.date=t.data.body.project.date,e.ruleForm.target=t.data.body.target,e.ruleForm.leader=t.data.body.leader,e.ruleForm.leaderBak=t.data.body.leaderBak,e.ruleForm.master=t.data.body.master,e.ruleForm.masterBak=t.data.body.masterBak,e.ruleForm.slaver=t.data.body.slaver,e.ruleForm.fileNames=t.data.body.fileNames,e.addTarget=t.data.body.addTarget,e.addLeader=t.data.body.addLeader,e.addLeaderBak=t.data.body.addLeaderBak,e.addMaster=t.data.body.addMaster,e.addMasterBak=t.data.body.addMasterBak,e.addSlaver=t.data.body.addSlaver,e.fileLog=t.data.body.fileLog;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){console.log("error="+t),e.$message({message:"查询失败",type:"error"})})}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"项目详细信息"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"检查项目名称",prop:"name"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"检查项目简介",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"检查年份"}},[a("el-col",{attrs:{span:7}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"检查对象",prop:"target"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.target,callback:function(t){e.$set(e.ruleForm,"target",t)},expression:"ruleForm.target"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"组长",prop:"leader"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.leader,callback:function(t){e.$set(e.ruleForm,"leader",t)},expression:"ruleForm.leader"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"副组长",prop:"leaderBak"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.leaderBak,callback:function(t){e.$set(e.ruleForm,"leaderBak",t)},expression:"ruleForm.leaderBak"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"主查",prop:"master"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.master,callback:function(t){e.$set(e.ruleForm,"master",t)},expression:"ruleForm.master"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"副主查",prop:"masterBak"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.masterBak,callback:function(t){e.$set(e.ruleForm,"masterBak",t)},expression:"ruleForm.masterBak"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"成员",prop:"slaver"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.slaver,callback:function(t){e.$set(e.ruleForm,"slaver",t)},expression:"ruleForm.slaver"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"附件",prop:"fileNames"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.fileNames,callback:function(t){e.$set(e.ruleForm,"fileNames",t)},expression:"ruleForm.fileNames"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"检查对象设置信息"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.addTarget}},[a("el-table-column",{attrs:{prop:"time",label:"设置日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contents",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"操作员",width:"100"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"组长设置信息"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.addLeader}},[a("el-table-column",{attrs:{prop:"time",label:"设置日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contents",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"操作员",width:"100"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"副组长设置信息"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.addLeaderBak}},[a("el-table-column",{attrs:{prop:"time",label:"设置日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contents",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"操作员",width:"100"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"主查设置信息"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.addMaster}},[a("el-table-column",{attrs:{prop:"time",label:"设置日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contents",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"操作员",width:"100"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"副主查设置信息"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.addMasterBak}},[a("el-table-column",{attrs:{prop:"time",label:"设置日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contents",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"操作员",width:"100"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"检查人员设置信息"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.addSlaver}},[a("el-table-column",{attrs:{prop:"time",label:"设置日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contents",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"操作员",width:"100"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"附件"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.fileLog}},[a("el-table-column",{attrs:{prop:"contents",label:"文件名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"操作员",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.downloadFile(t.row)}}},[e._v("查看")])]}}])})],1)],1)],1)],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("返回")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleDownload()}}},[e._v("导出excel文件")])],1)],1)],1)])},staticRenderFns:[]};var N=a("VU/8")(q,z,!1,function(e){a("6FG8")},"data-v-982e1c48",null).exports,U={name:"conformProject",data:function(){return{uploadUrl:"",fullscreenLoading:!1,options:[],worker:[],projectName:"",projectDesc:"",projectDate:"",projectId:"",projectTarget:"",projectLeader:"",projectLeaderBak:"",projectMaster:"",projectMasterBak:"",projectSlaver:"",bankSelected:[],leaderSelected:[],leaderBakSelected:[],masterSelected:[],masterBakSelected:[],slaverSelected:[],filterMethod:function(e,t){return t.pinyin.indexOf(e)>-1},bankTableData:[],bankTableDataLength:0,leaderTableData:[],leaderTableDataLength:0,leaderBakTableData:[],leaderBakTableDataLength:0,masterTableData:[],masterTableDataLength:0,masterBakTableData:[],masterBakTableDataLength:0,slaverTableData:[],slaverTableDataLength:0,value:"",fileList:[],bankData:[],defaultProps:{children:"children",label:"label"},dialogTableVisible:!1,dialogFormVisible:!1,formLabelWidth:"120px",bankTargetCount:0,leaderTargetCount:0,leaderBakTargetCount:0,masterTargetCount:0,masterBakTargetCount:0,slaverTargetCount:0,fileData:{}}},methods:{goBack:function(){this.$router.go(-1)},showTransfer1:function(){document.getElementById("transfer1").style.display="",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer2:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer3:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer4:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display="none"},showTransfer5:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="",document.getElementById("transfer6").style.display="none"},showTransfer6:function(){document.getElementById("transfer1").style.display="none",document.getElementById("transfer2").style.display="none",document.getElementById("transfer3").style.display="none",document.getElementById("transfer4").style.display="none",document.getElementById("transfer5").style.display="none",document.getElementById("transfer6").style.display=""},bankHandleChange:function(){this.bankTableData=this.$refs.tree.getCheckedNodes(!0),this.bankTableDataLength=this.bankTableData.length,this.showTransfer1()},showRender:function(){},handleClick:function(e){},checkoutBank:function(){var e=this;if(0!=this.bankTableData.length)if(0!=this.bankTargetCount)if(this.bankTargetCount>this.bankTableData.length)this.$message({message:"请重新设置检查对象随机数量！",type:"warning"});else{for(var t=[],a=0;a<this.bankTableData.length;a++){var r=this.bankTableData[a];if(void 0==r.right)return this.$message({message:"请设置机构权重！",type:"warning"}),void(t=[]);for(var s=0;s<r.right;s++)t.push(r)}for(var l=[];l.length<this.bankTargetCount;){for(var o=this.getBranch(t),n=!0,i=0;i<l.length;i++){var m=l[i];if(o.num==m.num){n=!1;break}}n&&l.push(o)}for(var u="",c="",d=0;d<this.bankTableData.length;d++){u+="["+this.bankTableData[d].label+"]"}for(var p=0;p<l.length;p++){var g=l[p];c+="["+g.label+"]"}var h="从"+u+"这"+this.bankTableData.length+"个备选机构随机选择"+c+"这"+this.bankTargetCount+"个检查对象";this.$confirm("从"+u+"这"+this.bankTableData.length+"个备选机构随机选择"+c+"这"+this.bankTargetCount+"个检查对象, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectTarget=c,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addTarget.action",{target:l,key:e.projectId,contents:h}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置检查对象成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置检查对象失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选择检查对象!"})})}else this.$message({message:"请设置检查对象随机数量！",type:"warning"});else this.$message({message:"请选择机构！",type:"warning"})},getBranch:function(e){return e[parseInt(Math.random()*e.length)]},leaderHandleChange:function(e,t,a){this.leaderTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.leaderTableData.push(l);break}}this.leaderTableDataLength=this.leaderTableData.length},checkoutLeader:function(){var e=this;if(0!=this.leaderTableData.length)if(0!=this.leaderTableDataLength)if(this.leaderTableDataLength>this.leaderTableData.length)this.$message({message:"请重新设置组长随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.leaderTableData.length;s++){this.leaderTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.leaderTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.leaderTableData[i];break}for(var m="",u="",c=0;c<this.leaderTableData.length;c++){m+="["+this.leaderTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.leaderTableData.length+"个备选人员随机选择"+u+"这"+this.leaderTargetCount+"个人员";this.$confirm("从"+m+"这"+this.leaderTableData.length+"个备选人员随机选择"+u+"这"+this.leaderTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectLeader=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addLeader.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置组长成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置组长失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置组长!"})})}else this.$message({message:"请重新设置组长随机数量！",type:"warning"});else this.$message({message:"请选择组长！",type:"warning"})},leaderBakHandleChange:function(e,t,a){this.leaderBakTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.leaderBakTableData.push(l);break}}this.leaderBakTableDataLength=this.leaderBakTableData.length},checkoutLeaderBak:function(){var e=this;if(0!=this.leaderBakTableData.length)if(0!=this.leaderBakTableDataLength)if(this.leaderBakTableDataLength>this.leaderBakTableData.length)this.$message({message:"请重新设置副组长随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.leaderBakTableData.length;s++){this.leaderBakTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.leaderBakTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.leaderBakTableData[i];break}for(var m="",u="",c=0;c<this.leaderBakTableData.length;c++){m+="["+this.leaderBakTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.leaderBakTableData.length+"个备选人员随机选择"+u+"这"+this.leaderBakTargetCount+"个人员";this.$confirm("从"+m+"这"+this.leaderBakTableData.length+"个备选人员随机选择"+u+"这"+this.leaderBakTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectLeaderBak=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addLeaderBak.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置副组长成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置副组长失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置副组长!"})})}else this.$message({message:"请重新设置副组长随机数量！",type:"warning"});else this.$message({message:"请选择副组长！",type:"warning"})},masterHandleChange:function(e,t,a){this.masterTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.masterTableData.push(l);break}}this.masterTableDataLength=this.masterTableData.length},checkoutMaster:function(){var e=this;if(0!=this.masterTableData.length)if(0!=this.masterTableDataLength)if(this.masterTableDataLength>this.masterTableData.length)this.$message({message:"请重新设置主查随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.masterTableData.length;s++){this.masterTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.masterTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.masterTableData[i];break}for(var m="",u="",c=0;c<this.masterTableData.length;c++){m+="["+this.masterTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.masterTableData.length+"个备选人员随机选择"+u+"这"+this.masterTargetCount+"个人员";this.$confirm("从"+m+"这"+this.masterTableData.length+"个备选人员随机选择"+u+"这"+this.masterTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectMaster=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addMaster.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置主查成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置主查失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置主查!"})})}else this.$message({message:"请重新设置主查随机数量！",type:"warning"});else this.$message({message:"请选择主查！",type:"warning"})},masterBakHandleChange:function(e,t,a){this.masterBakTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(l.id==e[r]){this.masterBakTableData.push(l);break}}this.masterBakTableDataLength=this.masterBakTableData.length},checkoutMasterBak:function(){var e=this;if(0!=this.masterBakTableData.length)if(0!=this.masterBakTableDataLength)if(this.masterBakTableDataLength>this.masterBakTableData.length)this.$message({message:"请重新设置副主查随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.masterBakTableData.length;s++){this.masterBakTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.masterBakTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.masterBakTableData[i];break}for(var m="",u="",c=0;c<this.masterBakTableData.length;c++){m+="["+this.masterBakTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.masterBakTableData.length+"个备选人员随机选择"+u+"这"+this.masterBakTargetCount+"个人员";this.$confirm("从"+m+"这"+this.masterBakTableData.length+"个备选人员随机选择"+u+"这"+this.masterBakTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectMasterBak=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addMasterBak.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置副主查成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置副主查失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置副主查!"})})}else this.$message({message:"请重新设置副主查随机数量！",type:"warning"});else this.$message({message:"请选择副主查！",type:"warning"})},slaverHandleChange:function(e,t,a){this.slaverTableData=[];for(var r=0;r<e.length;r++)for(var s=0;s<this.worker.length;s++){var l=this.worker[s];if(console.log(l),l.id==e[r]){this.slaverTableData.push(l);break}}this.slaverTableDataLength=this.slaverTableData.length},checkoutSlaver:function(){var e=this;if(0!=this.slaverTableData.length)if(0!=this.slaverTableDataLength)if(this.slaverTableDataLength>this.slaverTableData.length)this.$message({message:"请重新设置检查人员随机数量！",type:"warning"});else{for(var t=[],a=[],r=[],s=0;s<this.slaverTableData.length;s++){this.slaverTableData[s];var l=Math.random();a[s]=l,r[s]=l}a=(a=a.sort()).reverse();for(var o=0;o<this.slaverTargetCount;o++)for(var n=a[o],i=0;i<r.length;i++)if(n==r[i]){t[o]=this.slaverTableData[i];break}for(var m="",u="",c=0;c<this.slaverTableData.length;c++){m+="["+this.slaverTableData[c].label+"]"}for(var d=0;d<t.length;d++){var p=t[d];u+="["+p.label+"]"}var g="从"+m+"这"+this.slaverTableData.length+"个备选人员随机选择"+u+"这"+this.slaverTargetCount+"个人员";this.$confirm("从"+m+"这"+this.slaverTableData.length+"个备选人员随机选择"+u+"这"+this.slaverTargetCount+"个人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"随机选择成功!"}),e.projectSlaver=u,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addSlaver.action",{leader:t,key:e.projectId,contents:g}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，设置检查人员成功",type:"success"}),e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"设置检查人员失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}).catch(function(){e.$message({type:"warning",message:"请重新选设置检查人员!"})})}else this.$message({message:"请重新设置检查人员随机数量！",type:"warning"});else this.$message({message:"请选择检查人员！",type:"warning"})},removeFile:function(e,t){var a=this;setTimeout(function(){a.fullscreenLoading=!0,a.$axios.post("/deleteFile.action",{key:e.fileId,name:e.name,projectId:a.projectId,url:e.url}).then(function(e){if("999999"==e.data)return a.$message({type:"warning",message:"请重新登录!"}),void a.$router.push("/");if("000000"==e.data.head.errorCode)a.$message({message:"删除文件成功",type:"success"}),a.fullscreenLoading=!1;else{var t=e.data.head.errorMessage;a.$message({message:t,type:"error"})}}).catch(function(e){a.$message({message:"删除文件失败",type:"error"}),a.fullscreenLoading=!1})},2e3)},downloadFile:function(e){console.log(e),window.open(e.url,"_blank")}},mounted:function(){var e=this;this.uploadUrl=C.a.uploadUrl;var t=JSON.parse(sessionStorage.getItem("worker"));this.showTransfer1(),this.projectId=t.projectId,this.options=JSON.parse(sessionStorage.getItem("options")),this.projectId=this.$route.params.id,this.$axios.post("/queryProjectDetail.action",{key:this.projectId}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"查询成功",type:"success"}),e.projectName=t.data.body.project.name,e.projectDesc=t.data.body.project.des,e.projectDate=t.data.body.project.date,e.projectTarget=t.data.body.target,e.projectLeader=t.data.body.leader,e.projectLeaderBak=t.data.body.leaderBak,e.projectMaster=t.data.body.master,e.projectMasterBak=t.data.body.masterBak,e.projectSlaver=t.data.body.slaver,e.fileList=t.data.body.projectFileRelationList,e.fileData={key:t.data.body.project.id},e.bankData=t.data.body.bankData,e.worker=t.data.body.worker;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){console.log("error="+t),e.$message({message:"查询失败",type:"error"})})}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticClass:"content",attrs:{span:12}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"项目信息"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查项目名称"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:!0},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查项目描述"}},[a("el-input",{attrs:{type:"textarea",rows:5,disabled:!0},model:{value:e.projectDesc,callback:function(t){e.projectDesc=t},expression:"projectDesc"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查年份"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.projectDate,callback:function(t){e.projectDate=t},expression:"projectDate"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查对象"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer1(t)}},model:{value:e.projectTarget,callback:function(t){e.projectTarget=t},expression:"projectTarget"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"组长"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer2(t)}},model:{value:e.projectLeader,callback:function(t){e.projectLeader=t},expression:"projectLeader"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"副组长"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer5(t)}},model:{value:e.projectLeaderBak,callback:function(t){e.projectLeaderBak=t},expression:"projectLeaderBak"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"主查"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer3(t)}},model:{value:e.projectMaster,callback:function(t){e.projectMaster=t},expression:"projectMaster"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"副主查"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer6(t)}},model:{value:e.projectMasterBak,callback:function(t){e.projectMasterBak=t},expression:"projectMasterBak"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"检查人员"}},[a("el-input",{attrs:{readonly:!0},nativeOn:{click:function(t){return e.showTransfer4(t)}},model:{value:e.projectSlaver,callback:function(t){e.projectSlaver=t},expression:"projectSlaver"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"200px"}},[a("el-form-item",{attrs:{label:"《风险权重等级划分操作表》"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,name:"uploadFile","with-credentials":!0,data:e.fileData,"on-remove":e.removeFile,"on-preview":e.downloadFile,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{attrs:{id:"transfer1"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"检查对象"}},[a("div",{staticClass:"tree-class"},[a("el-tree",{ref:"tree",attrs:{data:e.bankData,"show-checkbox":"","node-key":"id","default-expand-all":"","highlight-current":"",props:e.defaultProps},on:{"check-change":e.bankHandleChange}})],1),e._v(" "),a("el-table",{attrs:{data:e.bankTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"masterDisplay",label:"类别",width:"80"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:"简称",width:"200"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"right",fixed:"right",label:"权重"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择",size:"small"},nativeOn:{click:function(a){e.handleClick(t.row)}},model:{value:t.row.right,callback:function(a){e.$set(t.row,"right",a)},expression:"scope.row.right"}},e._l(e.options,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))]}}])})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.bankTableDataLength,callback:function(t){e.bankTableDataLength=t},expression:"bankTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.bankTargetCount,callback:function(t){e.bankTargetCount=t},expression:"bankTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"success"},on:{click:e.checkoutBank}},[e._v("\n                  随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer2"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"组长"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入人名拼音",height:"150",size:"small",data:e.worker},on:{change:e.leaderHandleChange},model:{value:e.leaderSelected,callback:function(t){e.leaderSelected=t},expression:"leaderSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.leaderTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.leaderTableDataLength,callback:function(t){e.leaderTableDataLength=t},expression:"leaderTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.leaderTargetCount,callback:function(t){e.leaderTargetCount=t},expression:"leaderTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutLeader()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer3"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"主查"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入城市拼音",height:"150",size:"small",data:e.worker},on:{change:e.masterHandleChange},model:{value:e.masterSelected,callback:function(t){e.masterSelected=t},expression:"masterSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.masterTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.masterTableDataLength,callback:function(t){e.masterTableDataLength=t},expression:"masterTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.masterTargetCount,callback:function(t){e.masterTargetCount=t},expression:"masterTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutMaster()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer4"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"检查人员"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入城市拼音",height:"150",size:"small",data:e.worker},on:{change:e.slaverHandleChange},model:{value:e.slaverSelected,callback:function(t){e.slaverSelected=t},expression:"slaverSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.slaverTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.slaverTableDataLength,callback:function(t){e.slaverTableDataLength=t},expression:"slaverTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.slaverTargetCount,callback:function(t){e.slaverTargetCount=t},expression:"slaverTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutSlaver()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer5"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"副组长"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入人名拼音",height:"150",size:"small",data:e.worker},on:{change:e.leaderBakHandleChange},model:{value:e.leaderBakSelected,callback:function(t){e.leaderBakSelected=t},expression:"leaderBakSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.leaderBakTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.leaderBakTableDataLength,callback:function(t){e.leaderBakTableDataLength=t},expression:"leaderBakTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.leaderBakTargetCount,callback:function(t){e.leaderBakTargetCount=t},expression:"leaderBakTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutLeaderBak()}}},[e._v("随机")])],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"transfer6"}},[a("el-tabs",{staticStyle:{padding:"5px"}},[a("el-tab-pane",{attrs:{label:"副主查"}},[a("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["资源库","备选项"],"filter-placeholder":"请输入城市拼音",height:"150",size:"small",data:e.worker},on:{change:e.masterBakHandleChange},model:{value:e.masterBakSelected,callback:function(t){e.masterBakSelected=t},expression:"masterBakSelected"}}),e._v(" "),a("el-table",{attrs:{data:e.masterBakTableData,height:"250",size:"small"}},[a("el-table-column",{attrs:{prop:"label",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"专长"}})],1),e._v(" "),a("div",{staticClass:"totalDiv"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.masterBakTableDataLength,callback:function(t){e.masterBakTableDataLength=t},expression:"masterBakTableDataLength"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"随机数量"}},[a("el-input",{attrs:{value:"number"},model:{value:e.masterBakTargetCount,callback:function(t){e.masterBakTargetCount=t},expression:"masterBakTargetCount"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"div-btn",attrs:{center:""}},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.checkoutMasterBak()}}},[e._v("随机")])],1)],1)],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",[a("el-button",{staticStyle:{width:"100%"},attrs:{id:"login",type:"primary"},on:{click:function(t){e.goBack()}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var A=a("VU/8")(U,R,!1,function(e){a("S6hP")},"data-v-c4ddb5ec",null).exports,O={methods:{handleClick:function(e,t,a){this.bankTableData=this.$refs.tree.getCheckedNodes(!0)},detailClick:function(e){this.$router.push({name:"detailBranch",params:e})},modifyClick:function(e){this.$router.push({name:"modifyBranch",params:e})}},data:function(){return{bankData:[],bankTableData:[],defaultProps:{children:"children",label:"label"}}},mounted:function(){var e=this;setTimeout(function(){e.$axios.post("/queryMasterSlaver.action").then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"查询对象列表成功",type:"success"}),e.bankData=t.data.body.bankData;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"查询对象列表失败",type:"error"})})},2e3)}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticStyle:{border:"1px solid #d3dce6"},attrs:{span:6}},[a("el-tree",{ref:"tree",attrs:{data:e.bankData,"show-checkbox":"","node-key":"id","default-expand-all":"",props:e.defaultProps},on:{"check-change":e.handleClick}})],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-table",{attrs:{data:e.bankTableData,size:"small"}},[e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:"名称",width:"150"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"masterDisplay",label:"一级类别",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"slaverDisplay",label:"二级类别",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"添加者",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"right",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.detailClick(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.modifyClick(t.row)}}},[e._v("编辑")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(O,H,!1,function(e){a("TsMM")},null,null).exports,J={name:"detailProject",data:function(){return{branchMasterType:d.state.branchMasterType,branchSlaverType:d.state.branchSlaverType,ruleForm:{name:"",master:"",slaver:"",author:d.state.alias},rules:{name:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}],master:[{required:!0,message:"请选择机构类别",trigger:"blur"}],slaver:[{required:!0,message:"请填写职务",trigger:"blur"}]},fullscreenLoading:!1}},methods:{submitForm:function(e){var t=this;this.fullscreenLoading=!0,this.$refs.ruleForm.validate(function(e){e?(t.fullscreenLoading=!0,setTimeout(function(){t.fullscreenLoading=!0,t.$axios.post("/addBranch.action",{name:t.ruleForm.name,master:t.ruleForm.master,slaver:t.ruleForm.slaver}).then(function(e){if("999999"==e.data)return t.$message({type:"warning",message:"请重新登录!"}),void t.$router.push("/");if("000000"==e.data.head.errorCode)t.$message({message:"恭喜你，添加机构成功",type:"success"}),t.$router.push("/container/addBranch"),t.ruleForm.name="",t.ruleForm.master="",t.ruleForm.slaver="",t.fullscreenLoading=!1;else{var a=e.data.head.errorMessage;t.$message({message:a,type:"error"})}}).catch(function(e){t.$message({message:"添加机构失败",type:"error"}),t.fullscreenLoading=!1})},2e3)):(console.log("submit err"),t.fullscreenLoading=!1,t.$message({message:"请补充信息",type:"error"}))})}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("新增检查机构")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"机构名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"一级类别",prop:"master"}},[a("el-col",{attrs:{span:24}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.ruleForm.master,callback:function(t){e.$set(e.ruleForm,"master",t)},expression:"ruleForm.master"}},e._l(e.branchMasterType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"二级类别",prop:"slaver"}},[a("el-col",{attrs:{span:24}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.ruleForm.slaver,callback:function(t){e.$set(e.ruleForm,"slaver",t)},expression:"ruleForm.slaver"}},e._l(e.branchSlaverType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加者"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var Y=a("VU/8")(J,W,!1,function(e){a("C+Pp")},"data-v-6291ba66",null).exports,K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("机构详细信息")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"id"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加日期"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"机构名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.label,callback:function(t){e.$set(e.ruleForm,"label",t)},expression:"ruleForm.label"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"一级机构"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.masterDisplay,callback:function(t){e.$set(e.ruleForm,"masterDisplay",t)},expression:"ruleForm.masterDisplay"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"二级机构"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.slaverDisplay,callback:function(t){e.$set(e.ruleForm,"slaverDisplay",t)},expression:"ruleForm.slaverDisplay"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.state,callback:function(t){e.$set(e.ruleForm,"state",t)},expression:"ruleForm.state"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加人"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("返回")])],1)],1)],1)],1)},staticRenderFns:[]};var Z=a("VU/8")({name:"detailProject",data:function(){return{ruleForm:{id:"",num:"",master:"",slaver:"",masterDisplay:"",slaverDisplay:"",label:"",state:"",author:"",time:""}}},methods:{submitForm:function(e){this.$router.go(-1)}},mounted:function(){this.ruleForm.id=this.$route.params.id,this.ruleForm.num=this.$route.params.num,this.ruleForm.master=this.$route.params.master,this.ruleForm.slaver=this.$route.params.slaver,this.ruleForm.masterDisplay=this.$route.params.masterDisplay,this.ruleForm.slaverDisplay=this.$route.params.slaverDisplay,this.ruleForm.label=this.$route.params.label,this.ruleForm.state=this.$route.params.state,this.ruleForm.author=this.$route.params.author,this.ruleForm.time=this.$route.params.time}},K,!1,function(e){a("DuGp")},"data-v-3fb10613",null).exports,G={name:"detailProject",data:function(){return{ruleForm:{id:"",num:"",master:"",slaver:"",masterDisplay:"",slaverDisplay:"",label:"",state:"",author:"",time:""},rules:{label:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}]},fullscreenLoading:!1}},methods:{goBackForm:function(e){this.$router.go(-1)},submitForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/modifyBranch.action",{key:e.ruleForm.id,name:e.ruleForm.label}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"修改机构信息成功",type:"success"}),e.$router.push("/container/queryBranch");else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"修改机构信息失败",type:"error"})})},2e3)},unregisterForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/unregisterBranch.action",{key:e.ruleForm.id}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，注销机构成功",type:"success"}),e.$router.push("/container/queryBranch");else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"注销机构失败",type:"error"})})},2e3)},registerForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/registerBranch.action",{key:e.ruleForm.id}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，激活机构成功",type:"success"}),e.$router.push("/container/queryBranch");else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"激活机构失败",type:"error"})})},2e3)}},mounted:function(){this.ruleForm.id=this.$route.params.id,this.ruleForm.num=this.$route.params.num,this.ruleForm.master=this.$route.params.master,this.ruleForm.slaver=this.$route.params.slaver,this.ruleForm.masterDisplay=this.$route.params.masterDisplay,this.ruleForm.slaverDisplay=this.$route.params.slaverDisplay,this.ruleForm.label=this.$route.params.label,this.ruleForm.state=this.$route.params.state,this.ruleForm.author=this.$route.params.author,this.ruleForm.time=this.$route.params.time}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("修改机构信息")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"id"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加日期"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"机构名称",prop:"label"}},[a("el-input",{model:{value:e.ruleForm.label,callback:function(t){e.$set(e.ruleForm,"label",t)},expression:"ruleForm.label"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"一级机构"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.masterDisplay,callback:function(t){e.$set(e.ruleForm,"masterDisplay",t)},expression:"ruleForm.masterDisplay"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"二级机构"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.slaverDisplay,callback:function(t){e.$set(e.ruleForm,"slaverDisplay",t)},expression:"ruleForm.slaverDisplay"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.state,callback:function(t){e.$set(e.ruleForm,"state",t)},expression:"ruleForm.state"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加人"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.goBackForm("ruleForm")}}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("修改机构信息")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.unregisterForm("ruleForm")}}},[e._v("注销")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.registerForm("ruleForm")}}},[e._v("激活")])],1)],1)],1)],1)},staticRenderFns:[]};var X=a("VU/8")(G,Q,!1,function(e){a("pfEM")},"data-v-21f5f372",null).exports,ee={methods:{handleCurrentChange:function(e){this.currentPage=e,this.submitForm()},detailClick:function(e){this.$router.push({name:"detailUser",params:e})},modifyClick:function(e){this.$router.push({name:"modifyUser",params:e})},submitForm:function(e){var t=this;this.$axios.post("/queryUser.action",{pinyin:this.ruleForm.name,currentPage:this.currentPage}).then(function(e){if("999999"==e.data)return t.$message({type:"warning",message:"请重新登录!"}),void t.$router.push("/");if("000000"==e.data.head.errorCode)t.$message({message:"查询成功",type:"success"}),t.tableData=e.data.body.userList,t.count=parseInt(e.data.body.count),t.pageSize=parseInt(d.state.pageSize);else{var a=e.data.head.errorMessage;t.$message({message:a,type:"error"})}}).catch(function(e){console.log("error="+e),t.$message({message:"查询失败",type:"error"})})},resetForm:function(e){this.$refs[e].resetFields()},addForm:function(){this.$router.push("/container/addUser")}},data:function(){return{ruleForm:{name:""},rules:{name:[{validator:function(e,t,a){""==t?a():/^[A-Za-z]+$/.test(t)?a():a(new Error("用户名为1到10个字母组成"))},trigger:"blur"}]},tableData:[],count:0,pageSize:0,currentPage:"1"}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("查询人员库信息")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"人员姓名",prop:"name"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"text",maxlength:"10"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.addForm()}}},[e._v("新增")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"time",label:"添加日期",width:"150"}}),e._v(" "),a("el-table-column",{staticStyle:{"text-overflow":"ellipsis"},attrs:{prop:"name",label:"姓名",width:"100"}}),e._v(" "),a("el-table-column",{staticStyle:{"text-overflow":"ellipsis"},attrs:{prop:"pinyin",label:"拼音",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialty",label:"特长",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stateDesc",label:"状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"添加者",width:"100"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.detailClick(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.modifyClick(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.count},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("JFY9")},"data-v-e420fa36",null).exports,re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("用户详细信息")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"添加日期"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"拼音"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.pinyin,callback:function(t){e.$set(e.ruleForm,"pinyin",t)},expression:"ruleForm.pinyin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处室"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.section,callback:function(t){e.$set(e.ruleForm,"section",t)},expression:"ruleForm.section"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.post,callback:function(t){e.$set(e.ruleForm,"post",t)},expression:"ruleForm.post"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.stateDesc,callback:function(t){e.$set(e.ruleForm,"stateDesc",t)},expression:"ruleForm.stateDesc"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"专长"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.specialty,callback:function(t){e.$set(e.ruleForm,"specialty",t)},expression:"ruleForm.specialty"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加者"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("返回")])],1)],1)],1)],1)},staticRenderFns:[]};var se=a("VU/8")({name:"detailProject",data:function(){return{ruleForm:{time:"",name:"",pinyin:"",section:"",post:"",author:"",specialty:"",stateDesc:""}}},methods:{submitForm:function(e){this.$router.go(-1)}},mounted:function(){this.ruleForm.time=this.$route.params.time,this.ruleForm.pinyin=this.$route.params.pinyin,this.ruleForm.name=this.$route.params.name,this.ruleForm.section=this.$route.params.section,this.ruleForm.post=this.$route.params.post,this.ruleForm.specialty=this.$route.params.specialty,this.ruleForm.stateDesc=this.$route.params.stateDesc,this.ruleForm.author=this.$route.params.author}},re,!1,function(e){a("ECBB")},"data-v-8fc0ddbe",null).exports,le={name:"detailProject",data:function(){return{ruleForm:{key:"",time:"",name:"",pinyin:"",section:"",post:"",author:"",specialty:"",stateDesc:""},rules:{name:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 5 个字符",trigger:"blur"}],pinyin:[{required:!0,validator:function(e,t,a){""==t?a(new Error("请输入用户名")):/^[A-Za-z]+$/.test(t)?a():a(new Error("用户名为1到10个字母组成"))},trigger:"blur"}],section:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 5 个字符",trigger:"blur"}],post:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 32到 20 个字符",trigger:"blur"}],specialty:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},fullscreenLoading:!1}},methods:{goBackForm:function(e){this.$router.go(-1)},submitForm:function(){var e=this;this.fullscreenLoading=!0,this.$refs.ruleForm.validate(function(t){if(!t)return console.log("submit err"),e.$message({message:"补充信息",type:"error"}),void(e.fullscreenLoading=!1);e.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/modifyUser.action",{name:e.ruleForm.name,pinyin:e.ruleForm.pinyin,section:e.ruleForm.section,post:e.ruleForm.post,specialty:e.ruleForm.specialty,key:e.ruleForm.key}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，修改用户信息成功",type:"success"}),e.$router.push("/container/queryUser");else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"添加用户信息失败",type:"error"})})},2e3)})},unregisterForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/unregisterUser.action",{key:e.ruleForm.key}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，注销用户成功",type:"success"}),e.$router.push("/container/queryUser");else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"注销用户失败",type:"error"})})},2e3)},registerForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/registerUser.action",{key:e.ruleForm.key}).then(function(t){if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，激活用户成功",type:"success"}),e.$router.push("/container/queryUser");else{if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"激活用户失败",type:"error"})})},2e3)}},mounted:function(){this.ruleForm.time=this.$route.params.time,this.ruleForm.pinyin=this.$route.params.pinyin,this.ruleForm.name=this.$route.params.name,this.ruleForm.section=this.$route.params.section,this.ruleForm.post=this.$route.params.post,this.ruleForm.specialty=this.$route.params.specialty,this.ruleForm.stateDesc=this.$route.params.stateDesc,this.ruleForm.author=this.$route.params.author,this.ruleForm.key=this.$route.params.key}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("修改用户信息")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"添加日期"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"拼音",prop:"pinyin"}},[a("el-input",{model:{value:e.ruleForm.pinyin,callback:function(t){e.$set(e.ruleForm,"pinyin",t)},expression:"ruleForm.pinyin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处室",prop:"section"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.section,callback:function(t){e.$set(e.ruleForm,"section",t)},expression:"ruleForm.section"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务",prop:"post"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.post,callback:function(t){e.$set(e.ruleForm,"post",t)},expression:"ruleForm.post"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.stateDesc,callback:function(t){e.$set(e.ruleForm,"stateDesc",t)},expression:"ruleForm.stateDesc"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"专长",prop:"specialty"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.specialty,callback:function(t){e.$set(e.ruleForm,"specialty",t)},expression:"ruleForm.specialty"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加者"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.goBackForm("ruleForm")}}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("修改信息")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.unregisterForm("ruleForm")}}},[e._v("注销")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.registerForm("ruleForm")}}},[e._v("激活")])],1)],1)],1)],1)},staticRenderFns:[]};var ne=a("VU/8")(le,oe,!1,function(e){a("APhl")},"data-v-57e79398",null).exports,ie={name:"detailProject",data:function(){return{ruleForm:{name:"",pinyin:"",section:"",post:"",specialty:"",author:d.state.alias},rules:{name:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 5 个字符",trigger:"blur"}],pinyin:[{required:!0,validator:function(e,t,a){""==t?a(new Error("请输入用户名")):/^[A-Za-z]+$/.test(t)?a():a(new Error("用户名为1到10个字母组成"))},trigger:"blur"}],section:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 5 个字符",trigger:"blur"}],post:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 32到 20 个字符",trigger:"blur"}],author:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],specialty:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},fullscreenLoading:!1}},methods:{goBackForm:function(e){this.$router.go(-1)},submitForm:function(e){var t=this;this.fullscreenLoading=!0,this.$refs.ruleForm.validate(function(e){e?(t.fullscreenLoading=!0,setTimeout(function(){t.fullscreenLoading=!0,t.$axios.post("/addUser.action",{pinyin:t.ruleForm.pinyin,name:t.ruleForm.name,section:t.ruleForm.section,post:t.ruleForm.post,specialty:t.ruleForm.specialty}).then(function(e){if("999999"==e.data)return t.$message({type:"warning",message:"请重新登录!"}),void t.$router.push("/");if("000000"==e.data.head.errorCode)t.$message({message:"恭喜你，添加管理员成功",type:"success"}),t.$router.push("/container/queryUser");else{var a=e.data.head.errorMessage;t.$message({message:a,type:"error"})}}).catch(function(e){t.$message({message:"添加管理员失败",type:"error"}),t.fullscreenLoading=!1})},2e3)):(t.fullscreenLoading=!1,console.log("submit err"))})}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("新增检查人员")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"拼音",prop:"pinyin"}},[a("el-input",{model:{value:e.ruleForm.pinyin,callback:function(t){e.$set(e.ruleForm,"pinyin",t)},expression:"ruleForm.pinyin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处室",prop:"section"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.section,callback:function(t){e.$set(e.ruleForm,"section",t)},expression:"ruleForm.section"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务",prop:"post"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.post,callback:function(t){e.$set(e.ruleForm,"post",t)},expression:"ruleForm.post"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"专长",prop:"specialty"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.specialty,callback:function(t){e.$set(e.ruleForm,"specialty",t)},expression:"ruleForm.specialty"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加者"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.goBackForm("ruleForm")}}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(ie,me,!1,function(e){a("ytSl")},"data-v-ba003810",null).exports,ce={methods:{handleCurrentChange:function(e){this.currentPage=e,this.submitForm()},detailClick:function(e){this.$router.push({name:"detailManager",params:e})},modifyClick:function(e){this.$router.push({name:"modifyManager",params:e})},submitForm:function(e){var t=this;this.$axios.post("/queryManager.action",{name:this.ruleForm.name,currentPage:this.currentPage}).then(function(e){if("999999"==e.data)return t.$message({type:"warning",message:"请重新登录!"}),void t.$router.push("/");if("000000"==e.data.head.errorCode)t.$message({message:"查询成功",type:"success"}),t.tableData=e.data.body.managerList,t.count=parseInt(e.data.body.count),t.pageSize=parseInt(d.state.pageSize);else{var a=e.data.head.errorMessage;t.$message({message:a,type:"error"})}}).catch(function(e){console.log("error="+e),t.$message({message:"查询失败",type:"error"})})},resetForm:function(e){this.$refs[e].resetFields()},addForm:function(){this.$router.push("/container/addManager")}},data:function(){return{ruleForm:{name:""},rules:{name:[{validator:function(e,t,a){""==t?a():/^[A-Za-z]+$/.test(t)?a():a(new Error("用户名为1到10个字母组成"))},trigger:"blur"}]},tableData:[],count:0,pageSize:0,currentPage:"1"}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("查询管理员信息")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"管理员用户名",prop:"name"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"text",maxlength:"10"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),a("el-button",{on:{click:function(t){e.addForm()}}},[e._v("新增")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"time",label:"添加日期",width:"150"}}),e._v(" "),a("el-table-column",{staticStyle:{"text-overflow":"ellipsis"},attrs:{prop:"alias",label:"姓名",width:"100"}}),e._v(" "),a("el-table-column",{staticStyle:{"text-overflow":"ellipsis"},attrs:{prop:"name",label:"用户名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"section",label:"处室",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职务",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"角色",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"添加者",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.detailClick(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.modifyClick(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.count},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var pe=a("VU/8")(ce,de,!1,function(e){a("Wn5l")},"data-v-530ddda7",null).exports,ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("管理员详细信息")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"添加日期"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.alias,callback:function(t){e.$set(e.ruleForm,"alias",t)},expression:"ruleForm.alias"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处室"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.section,callback:function(t){e.$set(e.ruleForm,"section",t)},expression:"ruleForm.section"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.post,callback:function(t){e.$set(e.ruleForm,"post",t)},expression:"ruleForm.post"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.state,callback:function(t){e.$set(e.ruleForm,"state",t)},expression:"ruleForm.state"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加者"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("返回")])],1)],1)],1)],1)},staticRenderFns:[]};var he=a("VU/8")({name:"detailProject",data:function(){return{ruleForm:{time:"",alias:"",name:"",section:"",post:"",type:"",state:"",author:""}}},methods:{submitForm:function(e){this.$router.back(-1)}},mounted:function(){this.ruleForm.time=this.$route.params.time,this.ruleForm.alias=this.$route.params.alias,this.ruleForm.name=this.$route.params.name,this.ruleForm.section=this.$route.params.section,this.ruleForm.post=this.$route.params.post,this.ruleForm.type=this.$route.params.type,this.ruleForm.state=this.$route.params.state,this.ruleForm.author=this.$route.params.author}},ge,!1,function(e){a("43OD")},"data-v-6c262340",null).exports,fe={name:"modifyProject",data:function(){return{fullscreenLoading:!1,managerType:d.state.managerType,ruleForm:{time:"",alias:"",name:"",section:"",post:"",type:"",type2:"",state:"",author:""},rules:{alias:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 5 个字符",trigger:"blur"}],name:[{required:!0,validator:function(e,t,a){""==t?a(new Error("请输入用户名")):/^[A-Za-z]+$/.test(t)?a():a(new Error("用户名为1到10个字母组成"))},trigger:"blur"}],section:[{required:!0,message:"请填写处室",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],post:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],author:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],type2:[{required:!0,message:"请选择角色",trigger:"blur"}]}}},methods:{submitForm:function(){this.$router.go(-1)},modifyForm:function(){var e=this;this.fullscreenLoading=!0,this.$refs.ruleForm.validate(function(t){if(!t)return console.log("submit err"),e.$message({message:"补充信息",type:"error"}),void(e.fullscreenLoading=!1);e.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/modifyManager.action",{name:e.ruleForm.name,alias:e.ruleForm.alias,section:e.ruleForm.section,post:e.ruleForm.post,type:e.ruleForm.type2}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，修改管理员信息成功",type:"success"}),e.$router.push("/container/queryManager");else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"添加管理员失败",type:"error"})})},2e3)})},initForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/initPassword.action",{name:e.ruleForm.name}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"!=t.data.head.errorCode){var a=t.data.head.errorMessage;return e.$message({message:a,type:"error"}),void(e.fullscreenLoading=!1)}e.$message({message:"恭喜你，初始化管理员密码成功",type:"success"}),e.$router.push("/container/queryManager")}).catch(function(t){e.$message({message:"初始化管理员密码失败",type:"error"}),e.fullscreenLoading=!1})},2e3)},unRegisterForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/unRegisterManager.action",{name:e.ruleForm.name}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"!=t.data.head.errorCode){var a=t.data.head.errorMessage;return e.$message({message:a,type:"error"}),void(e.fullscreenLoading=!1)}e.$message({message:"恭喜你，注销管理员成功",type:"success"}),e.$router.push("/container/queryManager")}).catch(function(t){e.$message({message:"注销管理员失败",type:"error"}),e.fullscreenLoading=!1})},2e3)},registerForm:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/initPassword.action",{name:e.ruleForm.name}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"!=t.data.head.errorCode){var a=t.data.head.errorMessage;return e.$message({message:a,type:"error"}),void(e.fullscreenLoading=!1)}e.$message({message:"恭喜你，激活管理员成功",type:"success"}),e.$router.push("/container/queryManager")}).catch(function(t){e.$message({message:"激活管理员失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}},mounted:function(){this.ruleForm.time=this.$route.params.time,this.ruleForm.alias=this.$route.params.alias,this.ruleForm.name=this.$route.params.name,this.ruleForm.section=this.$route.params.section,this.ruleForm.post=this.$route.params.post,this.ruleForm.type=this.$route.params.type,this.ruleForm.state=this.$route.params.state,this.ruleForm.author=this.$route.params.author}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("修改管理员信息")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"添加日期"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"alias"}},[a("el-input",{model:{value:e.ruleForm.alias,callback:function(t){e.$set(e.ruleForm,"alias",t)},expression:"ruleForm.alias"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处室",prop:"section"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.section,callback:function(t){e.$set(e.ruleForm,"section",t)},expression:"ruleForm.section"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务",prop:"post"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.post,callback:function(t){e.$set(e.ruleForm,"post",t)},expression:"ruleForm.post"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"type2"}},[a("el-col",{attrs:{span:24}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.ruleForm.type2,callback:function(t){e.$set(e.ruleForm,"type2",t)},expression:"ruleForm.type2"}},e._l(e.managerType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.state,callback:function(t){e.$set(e.ruleForm,"state",t)},expression:"ruleForm.state"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加者"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.modifyForm("ruleForm")}}},[e._v("修改信息")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.unRegisterForm("ruleForm")}}},[e._v("注销")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.registerForm("ruleForm")}}},[e._v("激活")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.initForm("ruleForm")}}},[e._v("重置密码")])],1)],1)],1)],1)},staticRenderFns:[]};var ve=a("VU/8")(fe,be,!1,function(e){a("qzkk")},"data-v-33859ff6",null).exports,ye={name:"addManager",data:function(){return{managerType:d.state.managerType,fullscreenLoading:!1,ruleForm:{alias:"",name:"",section:"",post:"",type:"",author:d.state.alias},rules:{alias:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 5 个字符",trigger:"blur"}],name:[{required:!0,validator:function(e,t,a){""==t?a(new Error("请输入用户名")):/^[A-Za-z]+$/.test(t)?a():a(new Error("用户名为1到10个字母组成"))},trigger:"blur"}],section:[{required:!0,message:"请填写处室",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],post:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],author:[{required:!0,message:"请填写职务",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]}}},methods:{goBack:function(){this.$router.go(-1)},submit:function(){var e=this;this.fullscreenLoading=!0,this.$refs.ruleForm.validate(function(t){t?(e.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!0,e.$axios.post("/addManager.action",{alias:e.ruleForm.alias,name:e.ruleForm.name,section:e.ruleForm.section,post:e.ruleForm.post,type:e.ruleForm.type}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.$message({message:"恭喜你，添加管理员成功",type:"success"}),e.$router.push("/container/queryManager");else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"添加管理员失败",type:"error"}),e.fullscreenLoading=!1})},2e3)):console.log("submit err")})}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"title"},[e._v("新增管理员")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"alias"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.alias,callback:function(t){e.$set(e.ruleForm,"alias",t)},expression:"ruleForm.alias"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"处室",prop:"section"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.section,callback:function(t){e.$set(e.ruleForm,"section",t)},expression:"ruleForm.section"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务",prop:"post"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:e.ruleForm.post,callback:function(t){e.$set(e.ruleForm,"post",t)},expression:"ruleForm.post"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"type"}},[a("el-col",{attrs:{span:24}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.managerType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"添加者",prop:"author"}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.goBack()}}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var we=a("VU/8")(ye,ke,!1,function(e){a("omYu")},"data-v-b2c1fa7c",null).exports,Fe={data:function(){return{fullscreenLoading:!1,PasswordForm:{oldPassword:"",newPassword:"",newPasswordRepeated:""},rule:{oldPassword:[{required:!0,min:6,max:20,message:"原密码是必须的，长度为6-20位！",trigger:"blur"}],newPassword:[{required:!0,message:"新密码是必须的！",trigger:"blur"}],newPasswordRepeated:[{required:!0,message:"新密码是必须的！",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.fullscreenLoading=!0,this.$refs.PasswordForm.validate(function(t){if(t){var a=e.PasswordForm.oldPassword,r=e.PasswordForm.newPassword;if(r!=e.PasswordForm.newPasswordRepeated)return e.$message({message:"两次输入的新密码不一致！",type:"error"}),void(e.fullscreenLoading=!1);if(a==r)return e.$message({message:"新旧密码不可一样，请重新设置新密码！",type:"error"}),void(e.fullscreenLoading=!1);e.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!1;var t=!1;e.$axios.post("/resetPassword.action",{oldPassword:e.PasswordForm.oldPassword,newPassword:e.PasswordForm.newPassword}).then(function(a){if("999999"==a.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");var r=a.data.head.errorCode;if("100006"==r)return e.$message({message:errorMessage,type:"error"}),void e.$router.push("/");if("000000"==r)e.$message({message:"恭喜你，重置密码成功",type:"success"}),t=!0,e.$router.push("/");else{var s=a.data.head.errorMessage;e.$message({message:s,type:"error"})}}).catch(function(a){console.log("error="+a),e.$message({message:"重置密码失败",type:"error"}),t=!1,e.$router.push("/")}),t?e.$router.push("/container"):e.$router.push("/")},2e3)}else console.log("submit err")})}}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-form",{ref:"PasswordForm",staticClass:"login-form",attrs:{model:e.PasswordForm,rules:e.rule,"label-width":"0"}},[a("h3",[e._v("重置密码")]),e._v(" "),a("el-form-item",{attrs:{prop:"oldPassword",label:"原密码：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"password",placeholder:"原密码"},model:{value:e.PasswordForm.oldPassword,callback:function(t){e.$set(e.PasswordForm,"oldPassword",t)},expression:"PasswordForm.oldPassword"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"newPassword",label:"新密码：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"password",placeholder:"新密码"},model:{value:e.PasswordForm.newPassword,callback:function(t){e.$set(e.PasswordForm,"newPassword",t)},expression:"PasswordForm.newPassword"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"newPasswordRepeated",label:"重复：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"password",placeholder:"重复输入新密码"},model:{value:e.PasswordForm.newPasswordRepeated,callback:function(t){e.$set(e.PasswordForm,"newPasswordRepeated",t)},expression:"PasswordForm.newPasswordRepeated"}})],1)],1),e._v(" "),a("el-form-item",[a("el-col",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"submitBtn",attrs:{type:"danger",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" 提交 ")])],1),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("忘记密码，请联系超级管理员"),a("span",{staticClass:"to"},[e._v("超级")])])],1)],1)],1)},staticRenderFns:[]};var _e=a("VU/8")(Fe,$e,!1,function(e){a("8QNP")},"data-v-73dc5832",null).exports,Te={data:function(){return{fullscreenLoading:!1,PasswordForm:{oldPassword:"",newPassword:"",newPasswordRepeated:""},rule:{oldPassword:[{required:!0,min:6,max:20,message:"原密码是必须的，长度为6-20位！",trigger:"blur"}],newPassword:[{required:!0,message:"新密码是必须的！",trigger:"blur"}],newPasswordRepeated:[{required:!0,message:"新密码是必须的！",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.fullscreenLoading=!0,this.$refs.PasswordForm.validate(function(t){if(t){var a=e.PasswordForm.oldPassword,r=e.PasswordForm.newPassword;if(r!=e.PasswordForm.newPasswordRepeated)return void e.$message({message:"两次输入的新密码不一致！",type:"error"});if(a==r)return void e.$message({message:"新旧密码不可一样，请重新设置新密码！",type:"error"});e.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!1;var t=!1;e.$axios.post("/resetPassword.action",{oldPassword:e.PasswordForm.oldPassword,newPassword:e.PasswordForm.newPassword}).then(function(a){if("999999"==a.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");var r=a.data.head.errorCode;if("100006"==r)return e.$message({message:errorMessage,type:"error"}),void e.$router.push("/");if("000000"==r)e.$message({message:"恭喜你，重置密码成功",type:"success"}),t=!0,e.$router.push("/container");else{var s=a.data.head.errorMessage;e.$message({message:s,type:"error"})}}).catch(function(a){console.log("error="+a),e.$message({message:"重置密码失败",type:"error"}),t=!1,e.$router.push("/")}),t?e.$router.push("/container"):e.$router.push("/")},2e3)}else console.log("submit err")})}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-form",{ref:"PasswordForm",staticClass:"login-form",attrs:{model:e.PasswordForm,rules:e.rule,"label-width":"0"}},[a("h3",[e._v("重置密码")]),e._v(" "),a("el-form-item",{attrs:{prop:"oldPassword",label:"原密码：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"password",placeholder:"原密码"},model:{value:e.PasswordForm.oldPassword,callback:function(t){e.$set(e.PasswordForm,"oldPassword",t)},expression:"PasswordForm.oldPassword"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"newPassword",label:"新密码：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"password",placeholder:"新密码"},model:{value:e.PasswordForm.newPassword,callback:function(t){e.$set(e.PasswordForm,"newPassword",t)},expression:"PasswordForm.newPassword"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"newPasswordRepeated",label:"新密码：","label-width":"80px"}},[a("el-col",[a("el-input",{attrs:{type:"password",placeholder:"重复输入新密码"},model:{value:e.PasswordForm.newPasswordRepeated,callback:function(t){e.$set(e.PasswordForm,"newPasswordRepeated",t)},expression:"PasswordForm.newPasswordRepeated"}})],1)],1),e._v(" "),a("el-form-item",[a("el-col",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"submitBtn",attrs:{type:"danger",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" 提交 ")])],1),e._v(" "),a("br"),e._v(" "),a("br")],1)],1)],1)},staticRenderFns:[]};var De=a("VU/8")(Te,xe,!1,function(e){a("eyZj")},"data-v-79d0db8d",null).exports,Le={data:function(){return{fullscreenLoading:!1,role:!1,textarea:""}},mounted:function(){var e=this;this.fullscreenLoading=!0,"false"==sessionStorage.getItem("role")?this.role=!1:this.role=!0,setTimeout(function(){e.$axios.post("/queryMessage.action").then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.textarea=t.data.body.message,e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"查询信息失败",type:"error"}),e.fullscreenLoading=!1})},2e3)},methods:{updateMessage:function(){var e=this;this.fullscreenLoading=!0,setTimeout(function(){e.$axios.post("/updateMessage.action",{contents:e.textarea}).then(function(t){if("999999"==t.data)return e.$message({type:"warning",message:"请重新登录!"}),void e.$router.push("/");if("000000"==t.data.head.errorCode)e.fullscreenLoading=!1;else{var a=t.data.head.errorMessage;e.$message({message:a,type:"error"})}}).catch(function(t){e.$message({message:"修改信息失败",type:"error"}),e.fullscreenLoading=!1})},2e3)}}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"text-align":"center"}},[a("el-input",{staticClass:"input-class",staticStyle:{width:"90%","margin-top":"50px"},attrs:{type:"textarea",rows:12,placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center"}},[e.role?a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.updateMessage}}):e._e()],1)],1)},staticRenderFns:[]};var Ce=a("VU/8")(Le,Be,!1,function(e){a("5i/K")},null,null).exports;r.default.use(n.a);var Se=new n.a({routes:[{path:"/resetPassword",name:"ResetPassword",component:_e,meta:{keepAlive:!1}},{path:"/",name:"Login",component:v,meta:{keepAlive:!1}},{path:"/container",component:h,children:[{path:"/",component:T,meta:{keepAlive:!1}},{path:"createProject",component:L,meta:{keepAlive:!1}},{path:"conformProject",name:"conformProject",component:M,meta:{keepAlive:!1}},{path:"queryProject",component:E,meta:{keepAlive:!0}},{path:"detailProject",name:"detailProject",component:N,meta:{keepAlive:!1}},{path:"modifyProject",name:"modifyProject",component:A,meta:{keepAlive:!1}},{path:"queryBranch",component:V,meta:{keepAlive:!1}},{path:"addBranch",component:Y,meta:{keepAlive:!1}},{path:"detailBranch",name:"detailBranch",component:Z,meta:{keepAlive:!1}},{path:"modifyBranch",name:"modifyBranch",component:X,meta:{keepAlive:!1}},{path:"queryUser",component:ae,meta:{keepAlive:!0}},{path:"detailUser",name:"detailUser",component:se,meta:{keepAlive:!1}},{path:"modifyUser",name:"modifyUser",component:ne,meta:{keepAlive:!1}},{path:"addUser",component:ue,meta:{keepAlive:!1}},{path:"queryManager",component:pe,meta:{keepAlive:!0}},{path:"detailManager",name:"detailManager",component:he,meta:{keepAlive:!1}},{path:"modifyManager",name:"modifyManager",component:ve,meta:{keepAlive:!1}},{path:"addManager",component:we,meta:{keepAlive:!1}},{path:"document",component:Ce,meta:{keepAlive:!1}},{path:"initPassword",component:De,meta:{keepAlive:!1}}]}]}),je=a("zL8q"),Me=a.n(je);a("tvR6");k.a.defaults.baseURL="http://10.12.17.230:8080/manage",r.default.config.productionTip=!1,k.a.defaults.withCredentials=!0,r.default.prototype.$axios=k.a,r.default.use(Me.a),new r.default({el:"#app",router:Se,components:{App:o},template:"<App/>"})},PqLK:function(e,t){},S6hP:function(e,t){},TsMM:function(e,t){},Wn5l:function(e,t){},eyZj:function(e,t){},fyir:function(e,t){},omYu:function(e,t){},pfEM:function(e,t){},qzkk:function(e,t){},rMBT:function(e,t){},tvR6:function(e,t){},ytSl:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d15a754865d9b6261639.js.map